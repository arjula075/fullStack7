(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(62),i=n.n(o),l=n(2),c=n.n(l),s=n(4),u=n(16),g=n(17),p=n(20),d=n(18),f=n(21),m=n(43),b=n(42),h=n(14),v=n.n(h),y="/api/blogs",E=n(23),O=function(){var e=Object(s.a)(c.a.mark(function e(t){var n,a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",t),n=E.makeAuthString(t),a={headers:{Authorization:n}},console.log("head",a),r=v.a.get(y,a),e.abrupt("return",r.then(function(e){return e.data}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(c.a.mark(function e(t,n){var a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",n),a=E.makeAuthString(n),r={headers:{Authorization:a}},console.log("head",r),o=v.a.post(y,t,r),e.abrupt("return",o.then(function(e){return e.data}));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(c.a.mark(function e(t,n,a){var r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",a),console.log("blog",n),console.log("comment",t),r=E.makeAuthString(a),o={headers:{Authorization:r}},console.log("head",o),i=v.a.post(y+"/"+n+"/comments",t,o),e.abrupt("return",i.then(function(e){return e.data}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(c.a.mark(function e(t,n){var a,r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",n),a=E.makeAuthString(n),r={headers:{Authorization:a}},console.log("head",r),o=y+"/"+t._id,i=v.a.delete(o,r),e.abrupt("return",i.then(function(e){return e.data}));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),S={getAll:O,createBlog:w,updateBlog:function(){var e=Object(s.a)(c.a.mark(function e(t,n){var a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",n),a=E.makeAuthString(n),r={headers:{Authorization:a}},console.log("head",r),o=v.a.put(y+"/"+t._id,t,r),e.abrupt("return",o.then(function(e){return e.data}));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deleteBlog:N,addComment:k},I=n(23),j={login:function(){var e=Object(s.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in loginservice: user",t),e.next=3,v.a.post("/api/login",t);case 3:return n=e.sent,console.log(n),"200"===n.status&&I.setUserToMemory(t),n.data.password=t.password,e.abrupt("return",n.data);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},x=n(23),C={cachedUser:x.getUserFromMemory(),blogs:[]},B=function(e,t,n){console.log("comment",e),console.log("token",n),console.log("id",t);var a=JSON.parse(JSON.stringify(e));return function(){var e=Object(s.a)(c.a.mark(function e(r){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.addComment(a,t,n);case 2:return e.next=4,S.getAll(n);case 4:o=e.sent,o=x.initializedFetchBlogArray(o),r({type:"COMMENT",data:{content:o}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},T=function(e){console.log("blog init",e);var t={};return function(){var n=Object(s.a)(c.a.mark(function n(a){var r,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null,!e){n.next=17;break}if(!e.username||!e.password){n.next=15;break}return n.next=5,j.login(e);case 5:if(!(r=n.sent).token){n.next=15;break}return r.token="bearer "+r.token,n.next=10,S.getAll(r.token);case 10:o=n.sent,o=x.initializedFetchBlogArray(o),t.cachedUser=r,t.blogs=o,x.setUserToMemory(e);case 15:n.next=18;break;case 17:t=C;case 18:a({type:"INIT",data:t});case 19:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;if("VOTE"===t.type){var n=JSON.parse(JSON.stringify(e));console.log("action VOTE",t.data.id);var a=n.blogs.filter(function(e){return e._id!==t.data.id}),r=n.blogs.find(function(e){return e._id===t.data.id});return n.blogs=Object(b.a)(a).concat([Object(m.a)({},r,{likes:r.likes+1})]),n}if("TOGGLE"===t.type){var o=JSON.parse(JSON.stringify(e));console.log("action TOGGLE",t.data),console.log("result",o.blogs);var i=o.blogs.filter(function(e){return e._id!==t.data.id});console.log("old",i);var l=o.blogs.find(function(e){return e._id===t.data.id});return console.log("toggled",l),l.visibility=!l.visibility,console.log("toggled",l),o.blogs=Object(b.a)(i).concat([Object(m.a)({},l)]),console.log("result after action",o),o}if("DELETE"===t.type){console.log("blogReducer action DELETE",t.data);var c=JSON.parse(JSON.stringify(e));return c.blogs=t.data.content,c}if("COMMENT"===t.type){console.log("blogReducer action DELETE",t.data);var s=JSON.parse(JSON.stringify(e));return s.blogs=t.data.content,s}if("SEND"===t.type){console.log("blogReducer action SEND",t.data);var u=JSON.parse(JSON.stringify(e));return u.blogs=t.data.content,u}return"INIT"===t.type?(console.log("blogReducer action-INIT",t),console.log(t,t),t.data):"LOGIN"===t.type?(console.log("blogReducer action-LOGIN",t),t.data):"LOGOUT"===t.type?(console.log("blogReducer action-LOGOUT",t),t.data):e},U={notification:"Nothing new in the western front",type:"NO_NOTIFICATION"},L=function(e,t){return function(){var n=Object(s.a)(c.a.mark(function n(a){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:e.type,notification:e.notification}),setTimeout(function(){a(U)},1e3*t);case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},_=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"NOTIFICATION_ON":return{notification:e.notification,type:e.type};default:return U}},J=n(13),R=function(e){var t=e.header;return r.a.createElement("div",null,r.a.createElement("h2",null,t))},G=n(1),z=n.n(G),D=n(40),F=n(140),W=n(35),M=function(e){var t=function(){var t=Object(s.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vote(e.blog,e.user.token);case 2:e.notificationChange({notification:"Voted for blog",type:"NOTIFICATION_ON"},1);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n=function(t){e.toggleVisibility(e.blog)};try{console.log("props in toggable",e);var a={display:e.blog.visibility?"":"none"},o={display:"none"};e.blog.user&&(o={display:e.blog.user.username===e.user.username?"":"none"});var i=function(){var t=Object(s.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you really want to delete "+e.blog.title+"?")){t.next=4;break}return t.next=3,e.deleteBlog(e.blog,e.user.token);case 3:e.notificationChange({notification:"Blog"+e.blog.title+" deleted",type:"NOTIFICATION_ON"},1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"blogEntry"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(D.a,{to:"/blogs/".concat(e.blog._id)},e.blog.title)),r.a.createElement("span",{onClick:n}," | ",e.blog.author)),r.a.createElement("div",{style:a},r.a.createElement("div",{style:W.blogStyle()},e.children,r.a.createElement(F.a,{bsStyle:"primary",bsSize:"large",onClick:t},"like"),r.a.createElement(F.a,{bsStyle:"primary",bsSize:"large",style:o,onClick:i},"delete"),r.a.createElement(F.a,{bsStyle:"primary",bsSize:"large",onClick:n},"cancel"))))}catch(l){console.log(l)}},V=n(137),q=function(e){var t=e.comments;return r.a.createElement("div",null,r.a.createElement("h2",null,"Comments"),r.a.createElement(V.a,{striped:!0},r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,"* ",e.comment))}))))},K=function(e){if(console.log("blog in simpleBlog",e.blog),!e.blog)return null;var t=function(){var t=Object(s.a)(c.a.mark(function t(n){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),a={comment:n.target.elements.comment.value},n.target.reset(),console.log("this props in simpleBlog",e),t.next=7,e.addComment(a,e.blog._id,e.blogs.cachedUser.token);case 7:e.notificationChange({notification:"New comment added",type:"NOTIFICATION_ON"},1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}(),n=e.blog;return r.a.createElement("div",null,r.a.createElement("div",{className:"blogData"},n.title," ",n.author),r.a.createElement("div",{className:"likeData"},"blog has ",n.likes," likes"),r.a.createElement(q,{comments:n.comments}),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"add comment",r.a.createElement("input",{type:"text",name:"comment"})),r.a.createElement(F.a,{bsStyle:"primary",bsSize:"large",type:"submit"},"add comment"))))},H=n(35);K.propTypes={blog:z.a.object.isRequired,addComment:z.a.func.isRequired,blogs:z.a.object.isRequired,notificationChange:z.a.func.isRequired};var P=function(e){return e.bloglist.blogs.map(function(t){return r.a.createElement("div",{key:t._id,style:H.blogStyle(),className:"blogContainer"},r.a.createElement(M,{blog:t,user:e.bloglist.cachedUser,toggleVisibility:e.toggleVisibility,vote:e.vote,notificationChange:e.notificationChange,deleteBlog:e.deleteBlog},r.a.createElement("p",null,t.author),r.a.createElement("p",null,t.title),r.a.createElement("p",null,t.url),r.a.createElement("p",null,t.likes),r.a.createElement(K,{blog:t,addComment:e.addComment,blogs:e.bloglist,notificationChange:e.notificationChange})))})},Q=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return this.props.blogs?r.a.createElement("div",null,r.a.createElement(R,{header:"Blogs"}),r.a.createElement(P,{bloglist:this.props.blogs,toggleVisibility:this.props.toggleVisibility,vote:this.props.vote,notificationChange:this.props.notificationChange,deleteBlog:this.props.deleteBlog,addComment:this.props.addComment})):r.a.createElement("div",null)}}]),t}(r.a.Component),X=Object(J.b)(function(e){return{blogs:e.blog,visibility:e.visibility,notification:e.notification}},{vote:function(e,t){console.log("vote",e),console.log("token",t);var n=JSON.parse(JSON.stringify(e));return function(){var a=Object(s.a)(c.a.mark(function a(r){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.likes=n.likes+1,S.updateBlog(n,t),r({type:"VOTE",data:{content:e,id:e._id,votes:e.votes}});case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},notificationChange:L,toggleVisibility:function(e){return console.log("toggle visibility",e),function(){var t=Object(s.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"TOGGLE",data:{id:e._id}});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},deleteBlog:function(e,t){return console.log("delete",e),function(){var n=Object(s.a)(c.a.mark(function n(a){var r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("delete blog in app",e),n.next=3,S.deleteBlog(e,t);case 3:return n.next=5,S.getAll(t);case 5:r=n.sent,r=x.initializedFetchBlogArray(r),a({type:"DELETE",data:{content:r}});case 8:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},addComment:B})(Q),Y=n(143),Z=n(138),$=n(141),ee=n(23),te={hideWhenLoggedIn:{display:""},showWhenLoggedIn:{display:"none"}},ne=function(){return function(){var e=Object(s.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGGED_IN",hideWhenLoggedIn:ee.displayNone(),showWhenLoggedIn:ee.displayNormal()});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(console.log("visibilityReducer initialState",te),console.log("visibilityReducer state",e),console.log("visibilityReducer action",t),t.type){case"LOGGING_IN":case"LOGGED_IN":return{hideWhenLoggedIn:t.hideWhenLoggedIn,showWhenLoggedIn:t.showWhenLoggedIn,type:t.type};default:return e}},re=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).login=function(){var e=Object(s.a)(c.a.mark(function e(t){var a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),console.log("in login props",t.target.elements),console.log("in login props",t.target.elements.username),console.log("in login props",t.target.elements.password),a={username:t.target.elements.username.value,password:t.target.elements.password.value},e.next=8,n.props.blogInitialization(a);case 8:(r=n.props.blogs.cachedUser)&&r.token&&n.props.loggedIn(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return console.log("props in loging render",this.props),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login},r.a.createElement(Y.a,null,r.a.createElement(Z.a,null,"k\xe4ytt\xe4j\xe4tunnus:"),r.a.createElement($.a,{type:"text",name:"username"}),r.a.createElement(Z.a,null,"salasana:"),r.a.createElement($.a,{name:"password",type:"password"}),r.a.createElement(F.a,{bsStyle:"success",type:"submit"},"kirjaudu"))))}}]),t}(r.a.Component),oe=Object(J.b)(function(e){return{blogs:e.blog,visibility:e.visibility,notification:e.notification}},{blogInitialization:T,loggedIn:ne})(re),ie=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).createNewBlog=function(){var e=Object(s.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:t.target.elements.title.value,author:t.target.elements.author.value,url:t.target.elements.url.value},t.target.reset(),console.log("this props in newBlogs",n.props),e.next=6,n.props.sendBlog(a,n.props.blogs.cachedUser.token);case 6:n.props.notificationChange({notification:"New blog added",type:"NOTIFICATION_ON"},1);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.createNewBlog},r.a.createElement(Y.a,null,r.a.createElement(Z.a,null,"Otsikko:"),r.a.createElement($.a,{type:"text",name:"title"}),r.a.createElement(Z.a,null,"Kirjailija:"),r.a.createElement($.a,{name:"author",type:"text"}),r.a.createElement(Z.a,null,"Verkko-osoite:"),r.a.createElement($.a,{name:"url",type:"text"}),r.a.createElement(F.a,{bsStyle:"success",type:"submit"},"luo uusi blogi"))))}}]),t}(r.a.Component),le=Object(J.b)(function(e){return{blogs:e.blog,visibility:e.visibility,notification:e.notification}},{sendBlog:function(e,t){return console.log("sendblog",e),function(){var n=Object(s.a)(c.a.mark(function n(a){var r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.createBlog(e,t);case 2:return n.next=4,S.getAll(t);case 4:r=n.sent,a({type:"SEND",data:{content:r}});case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},notificationChange:L})(ie),ce=n(142),se=function(e){var t=e.users;return r.a.createElement("div",null,r.a.createElement("h2",null,"Users"),r.a.createElement(V.a,{striped:!0},r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(ce.a,{to:"/users/".concat(e.id)},e.name)),r.a.createElement("td",null,"Blogs: ",e.blogs.length))}))))},ue=function(e){var t=e.blogs;return console.log("blogs",t),t?t.map(function(e){return r.a.createElement("div",null,r.a.createElement("span",null," ",e.title," "),r.a.createElement("span",null,"by ",e.author))}):null},ge=function(e){var t=e.user;if(console.log("user",t),!t)return null;var n=t.blogs.length;return r.a.createElement("div",null,r.a.createElement("h2",null,t.username),r.a.createElement("div",null,"Blogeja: ",n),r.a.createElement(ue,{blogs:t.blogs}))},pe=function(e){var t=null,n=null;return"NO_NOTIFICATION"===e.notification.type?(t=null,n=null):"NOTIFICATION_ON"===e.notification.type?(t=e.notification.notification,n=null):"ERROR_ON"===e.notification.type&&(t=null,n=e.notification.notification),null===t&&null===n?null:null===t?r.a.createElement("div",{className:"error"},n):r.a.createElement("div",{className:"note"},t)},de=n(23),fe=function(){console.log("in logout"),de.logOut()},me=function(e){var t={};return(t=e.user?e.user:null)?r.a.createElement("div",null,"k\xe4ytt\xe4j\xe4tunnus: ",t.username," | K\xe4ytt\xe4j\xe4n nimi:  ",t.name,r.a.createElement("p",null,r.a.createElement(F.a,{onClick:fe},"kirjaudu ulos"))):r.a.createElement("div",null,"no user")},be=function(e){return r.a.createElement("div",null,r.a.createElement(pe,{notification:e.notification}),r.a.createElement(me,{user:e.blogs.cachedUser}))},he=n(139),ve=n(136),ye=n(23),Ee={getAll:function(){var e=Object(s.a)(c.a.mark(function e(t){var n,a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",t),n=ye.makeAuthString(t),a={headers:{Authorization:n}},console.log("head",a),r=v.a.get("/api/users",a),e.abrupt("return",r.then(function(e){return e.data}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("usersReducer state",e),console.log("usersReducer action",t),t.type){case"GET_USERS":return t.data;default:return e}},we=n(23),ke=n(35),Ne=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(s.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=we.getUserFromMemory(),e.next=3,n.props.blogInitialization(t);case 3:if(!(a=n.props.blogs.cachedUser)||!a.token){e.next=8;break}return e.next=7,n.props.getUsers(a.token);case 7:n.props.loggedIn();case 8:case"end":return e.stop()}},e,this)})),n.userById=function(e){return n.props.users.find(function(t){return t.id===e})},n.blogById=function(e){return console.log("id",e),console.log("props",n.props.blogs),n.props.blogs.blogs.find(function(t){return t._id===e})},n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;console.log("props in app",this.props);try{return r.a.createElement("div",{className:"container"},r.a.createElement(ce.a,null,r.a.createElement("div",null,r.a.createElement("div",{style:this.props.visibility.hideWhenLoggedIn},r.a.createElement(oe,null)),r.a.createElement("div",{style:ke.navStyle(this.props.visibility.showWhenLoggedIn)},r.a.createElement(he.a,{to:"/",activeStyle:ke.actStyle()},"Home")," | \xa0",r.a.createElement(he.a,{to:"/users",activeStyle:ke.actStyle()},"Users")," | \xa0",r.a.createElement(he.a,{to:"/blogs",activeStyle:ke.actStyle()},"Blogs")," | \xa0",r.a.createElement(he.a,{to:"/newblog",activeStyle:ke.actStyle()},"New blog")," | \xa0"),r.a.createElement("div",{style:this.props.visibility.showWhenLoggedIn},r.a.createElement(ve.a,{exact:!0,path:"/",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(ve.a,{exact:!0,path:"/users",render:function(){return r.a.createElement(se,{users:e.props.users})}}),r.a.createElement(ve.a,{exact:!0,path:"/users/:id",render:function(t){var n=t.match;return r.a.createElement(ge,{user:e.userById(n.params.id)})}}),r.a.createElement(ve.a,{exact:!0,path:"/blogs",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(ve.a,{exact:!0,path:"/blogs/:id",render:function(t){var n=t.match;return r.a.createElement(K,{blog:e.blogById(n.params.id),addComment:e.props.addComment,blogs:e.props.blogs,notificationChange:e.props.notificationChange})}}),r.a.createElement(ve.a,{path:"/newblog",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(be,{notification:this.props.notification,blogs:this.props.blogs})))))}catch(t){return console.log(t),null}}}]),t}(r.a.Component),Se=Object(J.b)(function(e){return console.log("App mapStateToProps",e),{blogs:e.blog,visibility:e.visibility,notification:e.notification,users:e.users}},{blogInitialization:T,notificationChange:L,loggedIn:ne,getUsers:function(e){return function(){var t=Object(s.a)(c.a.mark(function t(n){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getAll(e);case 2:a=t.sent,n({type:"GET_USERS",data:a});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},addComment:B})(Ne),Ie=n(25),je=n(72),xe=Object(Ie.c)({blog:A,visibility:ae,notification:_,users:Oe}),Ce=Object(Ie.d)(xe,Object(Ie.a)(je.a)),Be=function(){i.a.render(r.a.createElement(J.a,{store:Ce},r.a.createElement(Se,null)),document.getElementById("root"))};Be(),Ce.subscribe(Be)},23:function(e,t){e.exports={getUserFromMemory:function(){var e=window.localStorage.getItem("loggedBlogAppUser");return e?JSON.parse(e):null},logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),window.location.reload()},setUserToMemory:function(e){window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(e))},displayNone:function(){return{display:"none"}},displayNormal:function(){return{display:""}},setBlogsToMemory:function(e){window.localStorage.setItem("loggedBlogAppUserBlogs",JSON.stringify(e))},getBlogsFromMemory:function(){var e=window.localStorage.getItem("loggedBlogAppUserBlogs");return e?(window.localStorage.removeItem("loggedBlogAppUserBlogs"),JSON.parse(e)):null},initializedFetchBlogArray:function(e){e.sort(function(e,t){return t.likes-e.likes});for(var t=0;t<e.length;t++)e[t].visibility=!1;return e},makeAuthString:function(e){var t=e;return e&&!e.toLowerCase().startsWith("bearer ")&&(t="bearer ".concat(e)),t}}},35:function(e,t){e.exports={navStyle:function(e){var t={backgroundColor:"lightgray",color:"gray",fontStyle:"italic"};return t.display=e.display,t},actStyle:function(){return{fontWeight:"bold",color:"blue"}},blogStyle:function(){return{paddingTop:10,paddingLeft:2,border:"solid",borderWidth:1,marginBottom:5}}}},73:function(e,t,n){e.exports=n(135)}},[[73,2,1]]]);
//# sourceMappingURL=main.6809f162.chunk.js.map