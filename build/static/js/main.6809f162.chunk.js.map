{"version":3,"sources":["services/blogs.js","services/login.js","reducers/blogReducer.js","reducers/notificationReducer.js","components/header.js","components/toggable.js","components/comments.js","components/simpleBlog.js","components/blogList.js","components/Blog.js","reducers/visibilityReducer.js","components/login.js","components/newBlogs.js","components/userList.js","components/userBlogList.js","components/oneUser.js","components/notification.js","components/user.js","components/footer.js","services/users.js","reducers/usersReducer.js","App.js","store.js","index.js","utils/utils.js","utils/styles.js"],"names":["baseUrl","utils","require","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","token","authString","head","request","wrap","_context","prev","next","console","log","makeAuthString","headers","Authorization","axios","get","abrupt","then","response","data","stop","this","_x","apply","arguments","createBlog","_ref2","_callee2","blog","_context2","post","_x2","_x3","addComment","_ref3","_callee3","comment","id","_context3","_x4","_x5","_x6","deleteBlog","_ref4","_callee4","url","_context4","_id","delete","_x7","_x8","services_blogs","updateBlog","_ref5","_callee5","_context5","put","_x9","_x10","services_login","login","user","sent","status","setUserToMemory","password","initialState","cachedUser","getUserFromMemory","blogs","content","result","JSON","parse","stringify","dispatch","blogService","initializedFetchBlogArray","type","blogInitialization","username","loginService","reducer","store","length","undefined","action","old","filter","liked","find","toConsumableArray","concat","objectSpread","likes","toggled","visibility","notification","notificationChange","time","setTimeout","notificationReducer","Header","header","react_default","createElement","styles","Toggable","props","handleVote","e","vote","toggleVisibility","showWhenVisible","display","showOwn","props1","window","confirm","title","className","Link","to","onClick","author","style","blogStyle","children","Button","bsStyle","bsSize","Comments","comments","Table","striped","map","key","SimpleBlog","event","preventDefault","target","elements","value","reset","t0","components_comments","onSubmit","name","propTypes","PropTypes","object","isRequired","func","BlogList","bloglist","toggable","simpleBlog","Blog","components_header","blogList","React","Component","ConnectedBlog","connect","state","votes","_ref6","_callee6","_context6","_ref7","_callee7","_context7","hideWhenLoggedIn","showWhenLoggedIn","loggedIn","displayNone","displayNormal","visibilityReducer","LoginComponent","userInProps","_this","FormGroup","ControlLabel","FormControl","ConnectedLoginComponent","NewBlogComponent","createNewBlog","sendBlog","ConnectedNewBlogComponent","_ref8","_callee8","_context8","UserList","users","BrowserRouter","UserBlogList","User","size","userBlogList","Notification","message","error","logOut","UserComponent","loggedInUser","Footer","components_notification","components_user","services_users","usersReducer","App","componentDidMount","getUsers","userById","blogById","_this2","components_login","navStyle","NavLink","activeStyle","actStyle","Route","exact","path","render","components_Blog","userList","match","oneUser","params","newBlogs","footer","userService","combineReducers","blogReducer","createStore","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById","subscribe","module","exports","loggedUserJSON","localStorage","getItem","removeItem","location","reload","setItem","setBlogsToMemory","getBlogsFromMemory","loggedBlogsJSON","sort","b","i","toLowerCase","startsWith","backgroundColor","color","fontStyle","fontWeight","paddingTop","paddingLeft","border","borderWidth","marginBottom"],"mappings":"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","file":"static/js/main.6809f162.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\nconst utils = require('./../utils/utils.js')\r\n\r\nconst getAll = async(token) => {\r\n  console.log('token',token)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n\r\n  const request = axios.get(baseUrl, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst createBlog = async(blog, token) => {\r\n  console.log('token',token)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n\r\n  const request = axios.post(baseUrl, blog, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addComment = async(comment, id, token) => {\r\n  console.log('token',token)\r\n  console.log('blog',id)\r\n  console.log('comment',comment)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n\r\n  const request = axios.post(baseUrl + '/' + id + '/comments', comment, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteBlog = async(blog, token) => {\r\n  console.log('token',token)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n  const url = baseUrl + '/' + blog._id\r\n\r\n  const request = axios.delete(url, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updateBlog = async(blog, token) => {\r\n  console.log('token',token)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n\r\n  const request = axios.put(baseUrl + '/' + blog._id, blog, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default {\r\n  getAll,\r\n  createBlog,\r\n  updateBlog,\r\n  deleteBlog,\r\n  addComment,\r\n}\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\nconst utils = require('./../utils/utils.js')\r\n\r\nconst login = async(user) => {\r\n  console.log('in loginservice: user', user);\r\n  const response = await axios.post(baseUrl, user)\r\n  console.log(response);\r\n  if (response.status === '200') {\r\n    utils.setUserToMemory(user)\r\n  }\r\n  response.data.password = user.password\r\n  return response.data\r\n}\r\n\r\nexport default { login }\r\n","import blogService from './../services/blogs'\r\nimport loginService from './../services/login'\r\nconst utils = require('./../utils/utils.js')\r\n\r\nconst initialState = {\r\n  cachedUser: utils.getUserFromMemory(),\r\n  blogs: []\r\n}\r\n\r\nexport const login = (content) => {\r\n  console.log('login');\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      data: {\r\n        content: content,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const logout = (content) => {\r\n  console.log('logout');\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'LOGOUT',\r\n      data: {\r\n        content: content,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const vote = (content, token) => {\r\n  console.log('vote', content);\r\n  console.log('token', token);\r\n  const result = JSON.parse(JSON.stringify(content))\r\n  return async (dispatch) => {\r\n    result.likes = result.likes + 1\r\n    blogService.updateBlog(result, token)\r\n    dispatch({\r\n      type: 'VOTE',\r\n      data: {\r\n        content: content,\r\n        id:content._id,\r\n        votes: content.votes\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const addComment = (content, id, token) => {\r\n  console.log('comment', content);\r\n  console.log('token', token);\r\n  console.log('id', id);\r\n  const result = JSON.parse(JSON.stringify(content))\r\n  return async (dispatch) => {\r\n    await blogService.addComment(result, id, token)\r\n    let blogs = await blogService.getAll(token)\r\n    blogs = utils.initializedFetchBlogArray(blogs)\r\n    dispatch({\r\n      type: 'COMMENT',\r\n      data: {\r\n        content: blogs,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const blogInitialization = (content) => {\r\n  console.log('blog init', content);\r\n  let result = {};\r\n  return async (dispatch) => {\r\n    let user = null\r\n    if (content) {\r\n    if (content.username && content.password) {\r\n        user = await loginService.login(content)\r\n        if (user.token) {\r\n          user.token = 'bearer ' + user.token\r\n          let blogs = await blogService.getAll(user.token)\r\n          blogs = utils.initializedFetchBlogArray(blogs)\r\n          result.cachedUser = user\r\n          result.blogs = blogs\r\n          utils.setUserToMemory(content)\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      result = initialState\r\n    }\r\n    dispatch({\r\n      type: 'INIT',\r\n      data: result\r\n    })\r\n  }\r\n}\r\n\r\nexport const toggleVisibility = (content) => {\r\n  console.log('toggle visibility', content);\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'TOGGLE',\r\n      data: {\r\n        id:content._id,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (content, token) => {\r\n  console.log('delete', content);\r\n  return async (dispatch) => {\r\n    console.log('delete blog in app', content)\r\n    await blogService.deleteBlog(content, token)\r\n    let blogs = await blogService.getAll(token)\r\n    blogs = utils.initializedFetchBlogArray(blogs)\r\n    dispatch({\r\n      type: 'DELETE',\r\n      data: {\r\n        content: blogs,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const sendBlog = (content, token) => {\r\n  console.log('sendblog', content);\r\n  return async (dispatch) => {\r\n    await blogService.createBlog(content, token)\r\n    const blogs = await blogService.getAll(token)\r\n    dispatch({\r\n      type: 'SEND',\r\n      data: {\r\n        content: blogs,\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst reducer = (store = initialState, action) => {\r\n\r\n  if (action.type==='VOTE') {\r\n    const result = JSON.parse(JSON.stringify(store))\r\n    console.log('action VOTE', action.data.id);\r\n    const old = result.blogs.filter(a => a._id !== action.data.id)\r\n    const liked = result.blogs.find(a => a._id === action.data.id)\r\n    result.blogs = [...old, { ...liked, likes: liked.likes+1} ]\r\n    return result\r\n  }\r\n  if (action.type==='TOGGLE') {\r\n    const result = JSON.parse(JSON.stringify(store))\r\n    console.log('action TOGGLE', action.data);\r\n    console.log('result', result.blogs);\r\n    const old = result.blogs.filter(a => a._id !== action.data.id)\r\n    console.log('old', old);\r\n    const toggled = result.blogs.find(a => a._id === action.data.id)\r\n    console.log('toggled', toggled);\r\n    toggled.visibility = !toggled.visibility\r\n    console.log('toggled', toggled);\r\n    result.blogs = [...old, { ...toggled} ]\r\n    console.log('result after action', result);\r\n    return result\r\n  }\r\n  if (action.type==='DELETE') {\r\n    console.log('blogReducer action DELETE', action.data);\r\n    const result = JSON.parse(JSON.stringify(store))\r\n    result.blogs = action.data.content\r\n    return result\r\n  }\r\n  if (action.type==='COMMENT') {\r\n    console.log('blogReducer action DELETE', action.data);\r\n    const result = JSON.parse(JSON.stringify(store))\r\n    result.blogs = action.data.content\r\n    return result\r\n  }\r\n  if (action.type==='SEND') {\r\n    console.log('blogReducer action SEND', action.data);\r\n    const result = JSON.parse(JSON.stringify(store))\r\n    result.blogs = action.data.content\r\n    return result\r\n  }\r\n  if (action.type === 'INIT') {\r\n    console.log('blogReducer action-INIT', action);\r\n    console.log(action, action);\r\n    return action.data\r\n  }\r\n  if (action.type === 'LOGIN') {\r\n    console.log('blogReducer action-LOGIN', action);\r\n    return action.data\r\n  }\r\n  if (action.type === 'LOGOUT') {\r\n    console.log('blogReducer action-LOGOUT', action);\r\n    return action.data\r\n  }\r\n  return store\r\n}\r\n\r\nexport default reducer\r\n","const initialState = {\r\n  notification: 'Nothing new in the western front',\r\n  type: 'NO_NOTIFICATION'\r\n}\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case 'NOTIFICATION_ON':\r\n    return {\r\n      notification: action.notification,\r\n      type: action.type\r\n    }\r\n  default:\r\n    return initialState\r\n  }\r\n}\r\n\r\nexport const notificationChange = (notification, time) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: notification.type,\r\n      notification: notification.notification\r\n    })\r\n    setTimeout(() => {\r\n      dispatch(initialState)\r\n    }, time * 1000)\r\n  }\r\n}\r\n\r\n\r\nexport default notificationReducer\r\n","import React from 'react'\r\n\r\nconst Header = ({header}) => {\r\n  return(\r\n  <div>\r\n    <h2>{header}</h2>\r\n  </div>\r\n)}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n// eslint-disable-next-line\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom'\r\nimport { Button } from 'react-bootstrap'\r\nconst styles = require('./../utils/styles.js')\r\n\r\nconst Toggable = (props) =>  {\r\n\r\n  const handleVote = async(e) => {\r\n    await props.vote(props.blog, props.user.token)\r\n    props.notificationChange({\r\n      notification: 'Voted for blog',\r\n      type: 'NOTIFICATION_ON'\r\n    }, 1)\r\n  }\r\n\r\n  const toggleVisibility = (e) => {\r\n    props.toggleVisibility(props.blog)\r\n  }\r\n\r\n  try {\r\n    console.log('props in toggable', props);\r\n    const showWhenVisible = { display: props.blog.visibility ? '' : 'none' }\r\n    let showOwn = {display: 'none'}\r\n\r\n    if (props.blog.user) {\r\n       showOwn = {display:  props.blog.user.username === props.user.username ? '' : 'none'}\r\n    }\r\n\r\n    const deleteBlog = async(props1) => {\r\n      if (window.confirm('Do you really want to delete ' + props.blog.title +'?')) {\r\n          await props.deleteBlog(props.blog, props.user.token)\r\n          props.notificationChange({\r\n            notification: 'Blog' + props.blog.title + ' deleted',\r\n            type: 'NOTIFICATION_ON'\r\n          }, 1)\r\n      }\r\n    }\r\n      return (\r\n        <div className='blogEntry'>\r\n          <div>\r\n            <span><Link to={`/blogs/${props.blog._id}`}>{props.blog.title}</Link></span><span onClick={toggleVisibility}> | {props.blog.author}</span>\r\n          </div>\r\n          <div style={showWhenVisible}>\r\n            <div style={styles.blogStyle()}>\r\n              {props.children}\r\n              <Button bsStyle=\"primary\" bsSize=\"large\" onClick={handleVote}>like</Button>\r\n              <Button bsStyle=\"primary\" bsSize=\"large\" style={showOwn} onClick={deleteBlog}>delete</Button>\r\n              <Button bsStyle=\"primary\" bsSize=\"large\" onClick={toggleVisibility}>cancel</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n  catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n}\r\n\r\nToggable.propTypes = {\r\n    toggleVisibility : PropTypes.func.isRequired,\r\n    user : PropTypes.object.isRequired,\r\n    deleteBlog : PropTypes.func.isRequired,\r\n    vote : PropTypes.func.isRequired,\r\n  }\r\n\r\n\r\nexport default Toggable\r\n\r\n\r\n//<button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n","import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\n\r\nconst Comments = ({ comments }) => (\r\n  <div>\r\n    <h2>Comments</h2>\r\n    <Table  striped>\r\n      <tbody>\r\n        {comments.map(comment =>\r\n          <tr key={comment._id}>\r\n            <td>* {comment.comment}</td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </Table >\r\n\r\n  </div>\r\n)\r\n\r\nexport default Comments\r\n","import React from 'react'\r\nimport Comments from '../components/comments'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst SimpleBlog = (props) => {\r\n  console.log('blog in simpleBlog', props.blog);\r\n  if (!props.blog) {\r\n    return null\r\n  }\r\n  const addComment = async(event) => {\r\n    try {\r\n      event.preventDefault()\r\n      const comment = {\r\n        'comment': event.target.elements['comment'].value,\r\n      }\r\n      event.target.reset()\r\n      console.log('this props in simpleBlog', props);\r\n      await props.addComment(comment, props.blog._id, props.blogs.cachedUser.token)\r\n      props.notificationChange({\r\n        notification: 'New comment added',\r\n        type: 'NOTIFICATION_ON'\r\n      }, 1)\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  const blog = props.blog\r\n  return (\r\n      <div>\r\n        <div className='blogData'>\r\n          {blog.title} {blog.author}\r\n        </div>\r\n        <div className='likeData'>\r\n          blog has {blog.likes} likes\r\n        </div>\r\n        <Comments comments={blog.comments} />\r\n        <div>\r\n        <form onSubmit={addComment}>\r\n          <div>\r\n            add comment\r\n            <input\r\n              type=\"text\"\r\n                name=\"comment\"\r\n                />\r\n          </div>\r\n          <Button bsStyle=\"primary\" bsSize=\"large\" type=\"submit\">add comment</Button>\r\n        </form>\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nSimpleBlog.propTypes = {\r\n    blog : PropTypes.object.isRequired,\r\n    addComment : PropTypes.func.isRequired,\r\n    blogs : PropTypes.object.isRequired,\r\n    notificationChange : PropTypes.func.isRequired,\r\n  }\r\n\r\nexport default SimpleBlog\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Toggable from '../components/toggable'\r\nimport SimpleBlog from '../components/simpleBlog'\r\nconst styles = require('./../utils/styles.js')\r\n\r\nconst BlogList = (props) => {\r\n  return(\r\n    props.bloglist.blogs.map(blog => {\r\n      return (\r\n        <div key={blog._id} style= {styles.blogStyle()} className='blogContainer'>\r\n          <Toggable blog = {blog} user = {props.bloglist.cachedUser} toggleVisibility = {props.toggleVisibility} vote = {props.vote} notificationChange = {props.notificationChange}  deleteBlog = {props.deleteBlog} >\r\n            <p>{blog.author}</p>\r\n            <p>{blog.title}</p>\r\n            <p>{blog.url}</p>\r\n            <p>{blog.likes}</p>\r\n            <SimpleBlog blog={blog} addComment = {props.addComment} blogs = {props.bloglist} notificationChange = {props.notificationChange}/>\r\n          </Toggable>\r\n        </div>\r\n      )\r\n    })\r\n)}\r\n\r\nSimpleBlog.propTypes = {\r\n    blog : PropTypes.object.isRequired,\r\n    addComment : PropTypes.func.isRequired,\r\n    blogs : PropTypes.object.isRequired,\r\n    notificationChange : PropTypes.func.isRequired,\r\n  }\r\n\r\nexport default BlogList\r\n","import React from 'react'\r\nimport { vote } from './../reducers/blogReducer'\r\nimport { notificationChange } from './../reducers/notificationReducer'\r\nimport { toggleVisibility } from './../reducers/blogReducer'\r\nimport { deleteBlog, addComment } from './../reducers/blogReducer'\r\nimport { connect } from 'react-redux'\r\nimport Header from '../components/header'\r\nimport BlogList from '../components/blogList'\r\n\r\nclass Blog extends React.Component {\r\n\r\n    render() {\r\n      if (this.props.blogs) {\r\n        return (\r\n          <div>\r\n            <Header header='Blogs'/>\r\n            <BlogList bloglist = {this.props.blogs} toggleVisibility = {this.props.toggleVisibility} vote = {this.props.vote} notificationChange = {this.props.notificationChange}  deleteBlog = {this.props.deleteBlog} addComment = {this.props.addComment} />\r\n          </div>\r\n          )\r\n        }\r\n      else {\r\n          return (\r\n            <div></div>\r\n            )\r\n      }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blog,\r\n    visibility: state.visibility,\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedBlog = connect(\r\n  mapStateToProps,\r\n  {vote, notificationChange, toggleVisibility, deleteBlog, addComment },\r\n)(Blog)\r\n\r\n\r\nexport default ConnectedBlog\r\n","const utils = require('./../utils/utils.js')\r\n\r\nconst initialState = {\r\n\thideWhenLoggedIn: {\r\n    display: ''\r\n  },\r\n  showWhenLoggedIn:  {\r\n    display: 'none'\r\n  }\r\n}\r\n\r\nconst visibilityReducer = (state = initialState, action) => {\r\n\tconsole.log('visibilityReducer initialState', initialState,);\r\n\tconsole.log('visibilityReducer state', state);\r\n\tconsole.log('visibilityReducer action', action);\r\n  switch (action.type) {\r\n  case 'LOGGING_IN':\r\n    return {\r\n\t\t\thideWhenLoggedIn: action.hideWhenLoggedIn,\r\n\t\t\tshowWhenLoggedIn: action.showWhenLoggedIn,\r\n      type: action.type\r\n    }\r\n    case 'LOGGED_IN':\r\n      return {\r\n        hideWhenLoggedIn: action.hideWhenLoggedIn,\r\n        showWhenLoggedIn: action.showWhenLoggedIn,\r\n        type: action.type\r\n      }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const loggedIn = () => {\r\n  return async (dispatch) => {\r\n\r\n    dispatch({\r\n      type: 'LOGGED_IN',\r\n\t\t\thideWhenLoggedIn: utils.displayNone(),\r\n\t\t\tshowWhenLoggedIn: utils.displayNormal(),\r\n    })\r\n  }\r\n}\r\n\r\nexport const loggedOut = () => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: 'LOGGING_IN',\r\n\t\t\thideWhenLoggedIn: utils.displayNone(),\r\n\t\t\tshowWhenLoggedIn: utils.displayNormal(),\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default visibilityReducer\r\n","import React from 'react'\r\nimport { Button, FormGroup, FormControl, ControlLabel } from 'react-bootstrap'\r\nimport { connect } from 'react-redux'\r\nimport { blogInitialization } from './../reducers/blogReducer'\r\nimport { loggedIn } from './../reducers/visibilityReducer'\r\n\r\nclass LoginComponent extends React.Component {\r\n\r\n  login = async(event) => {\r\n    try {\r\n      event.preventDefault()\r\n      console.log('in login props',  event.target.elements);\r\n      console.log('in login props',  event.target.elements['username']);\r\n      console.log('in login props',  event.target.elements['password']);\r\n\r\n      const user = {\r\n        'username': event.target.elements['username'].value,\r\n        'password': event.target.elements['password'].value,\r\n      }\r\n      await this.props.blogInitialization(user)\r\n      const userInProps = this.props.blogs.cachedUser\r\n      if (userInProps && userInProps.token) {\r\n        this.props.loggedIn()\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log('props in loging render', this.props);\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.login}>\r\n          <FormGroup>\r\n          <ControlLabel>käyttäjätunnus:</ControlLabel>\r\n            <FormControl\r\n            type=\"text\"\r\n            name=\"username\"\r\n            />\r\n            <ControlLabel>salasana:</ControlLabel>\r\n            <FormControl\r\n            name=\"password\"\r\n            type=\"password\"\r\n            />\r\n            <Button bsStyle=\"success\" type=\"submit\">kirjaudu</Button>\r\n          </FormGroup>\r\n        </form>\r\n    </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blog,\r\n    visibility: state.visibility,\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedLoginComponent = connect(\r\n  mapStateToProps,\r\n  { blogInitialization, loggedIn }\r\n)(LoginComponent)\r\n\r\n\r\nexport default ConnectedLoginComponent\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { sendBlog } from './../reducers/blogReducer'\r\nimport { notificationChange } from './../reducers/notificationReducer'\r\nimport { Button, FormGroup, FormControl, ControlLabel } from 'react-bootstrap'\r\n\r\nclass NewBlogComponent extends React.Component {\r\n\r\n  createNewBlog = async(event) => {\r\n    event.preventDefault()\r\n    const blog = {\r\n      'title': event.target.elements['title'].value,\r\n      'author': event.target.elements['author'].value,\r\n      'url': event.target.elements['url'].value\r\n    }\r\n    event.target.reset()\r\n    console.log('this props in newBlogs', this.props);\r\n    await this.props.sendBlog(blog, this.props.blogs.cachedUser.token)\r\n    this.props.notificationChange({\r\n      notification: 'New blog added',\r\n      type: 'NOTIFICATION_ON'\r\n    }, 1)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.createNewBlog}>\r\n        <FormGroup>\r\n          <ControlLabel>Otsikko:</ControlLabel>\r\n            <FormControl\r\n            type=\"text\"\r\n            name=\"title\"\r\n            />\r\n            <ControlLabel>Kirjailija:</ControlLabel>\r\n            <FormControl\r\n            name=\"author\"\r\n            type=\"text\"\r\n            />\r\n            <ControlLabel>Verkko-osoite:</ControlLabel>\r\n            <FormControl\r\n            name=\"url\"\r\n            type=\"text\"\r\n            />\r\n            <Button bsStyle=\"success\" type=\"submit\">luo uusi blogi</Button>\r\n          </FormGroup>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blog,\r\n    visibility: state.visibility,\r\n    notification: state.notification\r\n  }\r\n}\r\n\r\nconst ConnectedNewBlogComponent = connect(\r\n  mapStateToProps,\r\n  { sendBlog, notificationChange },\r\n)(NewBlogComponent)\r\n\r\n\r\nexport default ConnectedNewBlogComponent\r\n","import React from 'react'\r\nimport { BrowserRouter as Link } from 'react-router-dom'\r\nimport { Table } from 'react-bootstrap'\r\n\r\nconst UserList = ({ users }) => (\r\n  <div>\r\n    <h2>Users</h2>\r\n    <Table  striped>\r\n      <tbody>\r\n        {users.map(user =>\r\n          <tr key={user.id}>\r\n            <td><Link to={`/users/${user.id}`}>{user.name}</Link></td>\r\n            <td>Blogs: {user.blogs.length}</td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </Table >\r\n\r\n  </div>\r\n)\r\n\r\nexport default UserList\r\n","import React from 'react'\r\n\r\nconst UserBlogList = ({blogs}) => {\r\n    console.log('blogs', blogs);\r\n    if (!blogs) {\r\n      return null\r\n    }\r\n    return(\r\n      blogs.map(blog => {\r\n        return (\r\n          <div>\r\n            <span> {blog.title } </span>\r\n            <span>by {blog.author}</span>\r\n          </div>\r\n        )\r\n      }\r\n    )\r\n  )\r\n}\r\n\r\nexport default UserBlogList\r\n","import React from 'react'\r\nimport UserBlogList from '../components/userBlogList'\r\n\r\nconst User = ({user}) => {\r\n  console.log('user', user);\r\n  if (!user) {\r\n    return null\r\n  }\r\n  const size = user.blogs.length\r\n\r\n  return(\r\n  <div>\r\n    <h2>{user.username}</h2>\r\n    <div>Blogeja: {size}</div>\r\n    <UserBlogList blogs={user.blogs} />\r\n\r\n  </div>\r\n)}\r\n\r\nexport default User\r\n","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n  let message = null\r\n  let error = null\r\n  if (props.notification.type === 'NO_NOTIFICATION') {\r\n    message = null\r\n    error = null\r\n  }\r\n  else if (props.notification.type === 'NOTIFICATION_ON') {\r\n    message = props.notification.notification\r\n    error = null\r\n  }\r\n  else if (props.notification.type === 'ERROR_ON') {\r\n    message = null\r\n    error = props.notification.notification\r\n  }\r\n  if (message === null && error === null) {\r\n    return null\r\n  }\r\n  else if (message === null) {\r\n\t  return (\r\n\t\t<div className=\"error\">\r\n\t\t  {error}\r\n\t\t</div>\r\n\t  )\r\n  }\r\n  else {\r\n\treturn (\r\n\t\t<div className=\"note\">\r\n\t\t  {message}\r\n\t\t</div>\r\n\t  )\r\n  }\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\nimport {  Button  } from 'react-bootstrap'\r\nconst utils = require('../utils/utils.js')\r\n\r\nconst UserComponent = (props) => {\r\n\r\n    let loggedInUser = {}\r\n    if (props.user) {\r\n        loggedInUser = props.user\r\n    }\r\n    else {\r\n        loggedInUser = null\r\n    }\r\n\r\n    if (loggedInUser) {\r\n    return (\r\n      <div>\r\n        käyttäjätunnus: {loggedInUser.username} | Käyttäjän nimi:  {loggedInUser.name}\r\n        <p>\r\n        <Button onClick={logOut}>\r\n          kirjaudu ulos\r\n        </Button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <div>\r\n        no user\r\n      </div>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nconst logOut = () => {\r\n  console.log('in logout');\r\n  utils.logOut()\r\n}\r\n\r\nexport default UserComponent\r\n","import React from 'react'\r\nimport Notification from '../components/notification'\r\nimport UserComponent from '../components/user'\r\n\r\nconst Footer = (props) => (\r\n  <div>\r\n    <Notification    notification = {props.notification}/>\r\n    <UserComponent user = {props.blogs.cachedUser} />\r\n  </div>\r\n)\r\n\r\nexport default Footer\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\nconst utils = require('./../utils/utils.js')\r\n\r\nconst getAll = async(token) => {\r\n  console.log('token',token)\r\n  const authString = utils.makeAuthString(token)\r\n  const head =  {'headers' :{'Authorization': authString}}\r\n  console.log('head',head)\r\n\r\n  const request = axios.get(baseUrl, head)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n}\r\n","import userService from './../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n\tconsole.log('usersReducer state', state);\r\n\tconsole.log('usersReducer action', action);\r\n  switch (action.type) {\r\n  case 'GET_USERS':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport const getUsers = (token) => {\r\n  return async (dispatch) => {\r\n    const users = await userService.getAll(token)\r\n    dispatch({\r\n      type: 'GET_USERS',\r\n      data: users\r\n    })\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import React from 'react'\r\nimport Blog from './components/Blog'\r\nimport LoginComponent from './components/login'\r\nimport NewBlogComponent from './components/newBlogs'\r\nimport UserList from './components/userList'\r\nimport User from './components/oneUser'\r\nimport SimpleBlog from './components/simpleBlog'\r\nimport Footer from './components/footer'\r\nimport { BrowserRouter as Router, Route, NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { blogInitialization, addComment } from './reducers/blogReducer'\r\nimport { loggedIn } from './reducers/visibilityReducer'\r\nimport { getUsers } from './reducers/usersReducer'\r\nimport { notificationChange } from './reducers/notificationReducer'\r\nconst utils = require('./utils/utils.js')\r\nconst styles = require('./utils/styles.js')\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount = async() => {\r\n      const cachedUser = utils.getUserFromMemory()\r\n      await this.props.blogInitialization(cachedUser)\r\n      const user = this.props.blogs.cachedUser\r\n      if (user && user.token) {\r\n        await this.props.getUsers(user.token)\r\n        this.props.loggedIn()\r\n      }\r\n    }\r\n\r\n    userById = (id) =>\r\n      this.props.users.find(a => a.id === id)\r\n\r\n    blogById = (id) => {\r\n      console.log('id', id);\r\n      console.log('props', this.props.blogs);\r\n      const result = this.props.blogs.blogs.find(a => a._id === id)\r\n      return result\r\n\r\n    }\r\n\r\n\r\n\r\n  render() {\r\n    console.log('props in app', this.props);\r\n    try {\r\n      return (\r\n        <div className=\"container\">\r\n          <Router>\r\n            <div>\r\n              <div style={this.props.visibility.hideWhenLoggedIn}>\r\n                <LoginComponent />\r\n              </div >\r\n              <div style={styles.navStyle(this.props.visibility.showWhenLoggedIn)}>\r\n                <NavLink  to=\"/\" activeStyle={styles.actStyle()}>Home</NavLink > | &nbsp;\r\n                <NavLink  to=\"/users\" activeStyle={styles.actStyle()}>Users</NavLink > | &nbsp;\r\n                <NavLink  to=\"/blogs\" activeStyle={styles.actStyle()}>Blogs</NavLink > | &nbsp;\r\n                <NavLink  to=\"/newblog\" activeStyle={styles.actStyle()}>New blog</NavLink > | &nbsp;\r\n              </div>\r\n              <div style={this.props.visibility.showWhenLoggedIn}>\r\n                <Route exact path=\"/\" render={() => <Blog />} />\r\n                <Route exact path=\"/users\" render={() => <UserList users= {this.props.users} />} />\r\n                <Route exact path=\"/users/:id\" render={({match}) =>\r\n                    <User user={this.userById(match.params.id)} />}\r\n                />\r\n                <Route exact path=\"/blogs\" render={() => <Blog />} />\r\n                <Route exact path=\"/blogs/:id\" render={({match}) =>\r\n                    <SimpleBlog blog={this.blogById(match.params.id)} addComment = {this.props.addComment} blogs = {this.props.blogs} notificationChange = {this.props.notificationChange} />}\r\n                />\r\n                <Route path=\"/newblog\" render={() => <NewBlogComponent />} />\r\n                <Footer notification = {this.props.notification}  blogs = {this.props.blogs}/>\r\n              </div>\r\n            </div>\r\n          </Router>\r\n        </div>\r\n      )\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log('App mapStateToProps',state);\r\n  return {\r\n    blogs: state.blog,\r\n    visibility: state.visibility,\r\n    notification: state.notification,\r\n    users: state.users\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { blogInitialization, notificationChange, loggedIn, getUsers, addComment }\r\n)(App)\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport blogReducer from './reducers/blogReducer'\r\nimport visibilityReducer from './reducers/visibilityReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\n\r\nconst reducer = combineReducers({\r\n  blog: blogReducer,\r\n  visibility: visibilityReducer,\r\n  notification: notificationReducer,\r\n  users: usersReducer,\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(thunk)\r\n)\r\nexport default store\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\nrender()\r\nstore.subscribe(render)\r\n","const getUserFromMemory = () => {\r\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\r\n  if (loggedUserJSON) {\r\n        const user = JSON.parse(loggedUserJSON)\r\n        return user\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n}\r\n\r\nconst getBlogsFromMemory = () => {\r\n  const loggedBlogsJSON = window.localStorage.getItem('loggedBlogAppUserBlogs')\r\n  if (loggedBlogsJSON) {\r\n        window.localStorage.removeItem('loggedBlogAppUserBlogs')\r\n        const blogs = JSON.parse(loggedBlogsJSON)\r\n        return blogs\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n}\r\n\r\nconst setUserToMemory = (user) => {\r\n  window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user))\r\n}\r\nconst setBlogsToMemory = (blogs) => {\r\n  window.localStorage.setItem('loggedBlogAppUserBlogs', JSON.stringify(blogs))\r\n}\r\n\r\n\r\nconst logOut = () => {\r\n   window.localStorage.removeItem('loggedBlogAppUser')\r\n   window.location.reload()\r\n}\r\n\r\nconst displayNone = () => {\r\n  return {\r\n    display: 'none'\r\n  }\r\n}\r\n\r\nconst displayNormal = () => {\r\n  return {\r\n    display: ''\r\n  }\r\n}\r\n\r\nconst initializedFetchBlogArray = (blogs) => {\r\n  blogs.sort((a, b) => b.likes - a.likes)\r\n  for (let i = 0; i < blogs.length; i++) {\r\n    blogs[i].visibility = false\r\n  }\r\n  return blogs\r\n}\r\n\r\nconst makeAuthString = (token) => {\r\n  let authString = token\r\n  if (token && !token.toLowerCase().startsWith('bearer ')) {\r\n    authString = 'bearer '.concat(token)\r\n  }\r\n  return authString\r\n}\r\n\r\nmodule.exports = {\r\n  getUserFromMemory,\r\n  logOut,\r\n  setUserToMemory,\r\n  displayNone,\r\n  displayNormal,\r\n  setBlogsToMemory,\r\n  getBlogsFromMemory,\r\n  initializedFetchBlogArray,\r\n  makeAuthString\r\n}\r\n","const navStyle = (display) => {\r\n  const style = {\r\n     backgroundColor: 'lightgray',\r\n     color: 'gray',\r\n     fontStyle: 'italic'\r\n   }\r\n   style.display = display.display\r\n   return style\r\n }\r\n\r\nconst actStyle = () => {\r\n  const style = {\r\n    fontWeight: \"bold\",\r\n    color: \"blue\"\r\n  }\r\n  return style\r\n}\r\n\r\nconst blogStyle = () => {\r\n  return {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  navStyle,\r\n  actStyle,\r\n  blogStyle,\r\n}\r\n"],"sourceRoot":""}